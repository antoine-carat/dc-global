<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge'>
  <title>DC Global - A Hack4Stack project</title>
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <link rel="stylesheet" href="main.css">
  <script src="vue.js"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/topojson/1.6.9/topojson.min.js"></script>
  <script src="datamaps.world.js"></script>
</head>
<body>
    <div id="sidebar">
        <div id="sidebar_content">
            <h1><a href="/">DC Global</a></h1>
            <div id="icon">
                <svg width="100" height="100">
                    <defs>
                        <pattern id="image" patternUnits="userSpaceOnUse" height="100" width="100">
                            <image x="0" y="0" height="100" width="100" xlink:href="40922-1-1.jpg"></image>
                        </pattern>
                    </defs>
                    <circle id='top' cx="50" cy="50" r="50" fill="url(#image)"/>
                </svg>
            </div>
        </div>
    </div>
    <div id="main">
        <div id="app" class="container">
            <div id="worldmap"></div>
        </div>
    </div>
</body>
<script>
 var sidebar = false; // sidebar = true if sidebar is open

 function openSidebar() {
   document.getElementById("sidebar").style.marginLeft = "0px";
	 sidebar = true;
   console.log("opensidebar");
 }

 function closeSidebar() {
   document.getElementById("sidebar").style.marginLeft = "-400px";
	 sidebar = false;
   console.log("close sidebar");
 }

 var app = new Vue({
   el: '#app',
   data: {
   },
   mounted() {
     var map = new Datamap({
       element: document.getElementById('worldmap'),
       fills: {
         HIGH: 'orange',
         LABEL: 'blue',
         defaultFill: 'gray'
       },
       data: {
         IRL: {
           fillKey: 'HIGH'
         },
         USA: {
           fillKey: 'HIGH'
         },
         AUS: {
           fillKey: 'HIGH'
         },
         IND: {
           fillKey: 'HIGH'
         },
         DEU: {
           fillKey: 'HIGH'
         }
       },
     });

     var dcguys = [{
       name: 'Stephen',
       radius: 10,
       country: 'Ireland',
       fillKey: 'LABEL',
       dc: 'Data center',
       work_hours: '9-5pm',
       latitude: 53.3498,
       longitude: -6.2603,
       image: "40922-1-1.jpg"
     }];

     //draw bubbles for bombs
     map.bubbles(dcguys, {
       popupTemplate: function (geo, data) {
         return ['<div class="hoverinfo">' +  data.name,
                 '<br/>Country: ' +  data.country + '',
                 '<br/>Data Center: ' + data.dc + '',
                 '<br/>Working Hours: ' + data.work_hours + '',
                 '</div>'].join('');
       }
     });
   },
   methods: {
   }
 })
</script>
</html>
